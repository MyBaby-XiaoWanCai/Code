/**********************************************************************************************************
** Company     : JNE WuHan Co.,Ltd.
** Project     :
** --------------------------------------------------------------------------------------------------------
** File name   : Bsp_Dwt.h
** Author      : Cai Heng
** Date        : 2022-07-13
** Description : Dwt驱动模块, 主要实现Dwt中的时钟周期(CYCCNT)计数功能, 可以方便的计算程序执行的时钟周期个数
**********************************************************************************************************/

#ifndef _BSP_DWT_H_
#define _BSP_DWT_H_

#ifdef __cplusplus
extern "C" {
#endif

/**********************************************************************************************************
**                                          头文件引用区
**********************************************************************************************************/
#include "main.h"

/**********************************************************************************************************
**                                            宏定义区
**********************************************************************************************************/
#define	DWT_CR      		*(volatile unsigned int *)0xE0001000	// DWT Control Register
#define	DWT_CYCCNT			*(volatile unsigned int *)0xE0001004	// Cycle Count Register
#define	DEM_CR      		*(volatile unsigned int *)0xE000EDFC	// Debug Exception and Monitor Control Register
#define	DBGMCU_CR   		*(volatile unsigned int *)0xE0042004	// Debug MCU Configuration Register

#define	DEM_CR_TRCENA		(1 << 24)
#define	DWT_CR_CYCCNTENA	(1 <<  0)

/**********************************************************************************************************
**                                           类型定义区
**********************************************************************************************************/


/**********************************************************************************************************
**                                         外部引用变量区
**********************************************************************************************************/


/**********************************************************************************************************
**                                         外部引用函数区
**********************************************************************************************************/
extern void bsp_InitDWT(void);
extern void bsp_DelayUS(uint32_t _ulDelayTime);
extern void bsp_DelayMS(uint32_t _ulDelayTime);	

#ifdef __cplusplus
}
#endif

#endif

/**********************************************************************************************************
**                                          End Of File
**********************************************************************************************************/
