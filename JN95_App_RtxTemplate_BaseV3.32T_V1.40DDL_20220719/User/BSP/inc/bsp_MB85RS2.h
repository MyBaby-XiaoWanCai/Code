/**********************************************************************************************************
** Company     : JNE WuHan Co.,Ltd.
** Project     :
** --------------------------------------------------------------------------------------------------------
** File name   : bsp_MB85RS2.h
** Author      : Huang Cheng
** Date        : 2021-11-09
** Description : bsp_MB85RS2 head file
**********************************************************************************************************/

#ifndef _BSP_MB85RS2_H_
#define _BSP_MB85RS2_H_

#ifdef __cplusplus
extern "C" {
#endif

/**********************************************************************************************************
**                                          头文件引用区
**********************************************************************************************************/
#include <stdint.h>
#include <stdlib.h>
#include "hc32_ddl.h"

/**********************************************************************************************************
**                                            宏定义区
**********************************************************************************************************/
//#define MB85RS2_TEST    

#define MB85RS2_CMD_WREN 		   0x06      //写使能
#define MB85RS2_CMD_WRDI		   0x04      //写禁止
#define MB85RS2_CMD_RDSR		   0x05      //读状态寄存器
#define MB85RS2_CMD_WRSR		   0x01      //写状态寄存器
#define MB85RS2_CMD_READ		   0x03      //24位地址模式读数据 
#define MB85RS2_CMD_WRITE		   0x02      //写数据
#define MB85RS2_CMD_FSTRD          0x0B      //32位地址模式（高位对齐，低位填0）读数据
#define MB85RS2_CMD_RDID		   0x9f      //读ID，32位ID
#define MB85RS2_CMD_SLEEP		   0xB9      //低功耗模式

#define StartADD_WorkStatus	       0          // 上一次断电工步状态记录，铁电起始地址（8字节）
#define StartADD_MB85RS2DeviceSN   8          // 设备SN条码编号（3字节）
#define MB85RS2_Size               0x40000    //256K Byte

/*FRAM特殊地址定义*/
#define APP_Copy_Flag_ADD       MB85RS2_Size-1   //铁电最后一个地址作为APP拷贝标志地址
/**********************************************************************************************************
**                                           类型定义区
**********************************************************************************************************/


/**********************************************************************************************************
**                                         外部引用变量区
**********************************************************************************************************/	

	
/**********************************************************************************************************
**                                         外部引用函数区
**********************************************************************************************************/	
void MB85Ctrl_Read(uint32_t addr, uint8_t *buf, uint16_t len);
void MB85Ctrl_Write(uint32_t addr, uint8_t *buf, uint16_t len);
void MB85Ctrl_ReadID(uint32_t *buf);
uint8_t MB85Ctrl_CheckWrite(uint32_t addr, uint8_t *buf, uint16_t len);

#ifdef __cplusplus
}
#endif	
	
#endif

/**********************************************************************************************************
**                                          End Of File
**********************************************************************************************************/
