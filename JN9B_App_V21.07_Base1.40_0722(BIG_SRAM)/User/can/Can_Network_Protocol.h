/**********************************************************************************************************
** Company     : JNE WuHan Co.,Ltd.
** Project     :
** --------------------------------------------------------------------------------------------------------
** File name   : Can_Network_Protocol.h
** Author      : Cai Heng
** Date        : 2021-01-25
** Description : CAN组网协议层文件
**********************************************************************************************************/

#ifndef _CAN_NETWORK_PROTOCOL_H_
#define _CAN_NETWORK_PROTOCOL_H_

#ifdef __cplusplus
extern "C" {
#endif
    
/**********************************************************************************************************
**                                          头文件引用区
**********************************************************************************************************/
#include "main.h"													/* >>>>>> 主头文件 <<<<<< */

/**********************************************************************************************************
**                                            宏定义区
**********************************************************************************************************/
#define CAN_ID_BIT_OFFSET_DAT_DIRE			0						/* >>>>>> 数据传输方向     <<<<<< */
#define CAN_ID_BIT_OFFSET_COM_TYPE			1						/* >>>>>> 网络节点通讯方式 <<<<<< */
#define CAN_ID_BIT_OFFSET_DEV_ADDR			2						/* >>>>>> 设备地址         <<<<<< */
#define CAN_ID_BIT_OFFSET_FRM_SEQU			10						/* >>>>>> 数据帧帧序       <<<<<< */
#define CAN_ID_BIT_OFFSET_FEA_CODE			18						/* >>>>>> 数据帧特征码     <<<<<< */
#define CAN_ID_BIT_OFFSET_DEV_TYPE			26						/* >>>>>> 设备类型         <<<<<< */

#define RX_TIMEOUT							1000					/* >>>>>> 超时时间设置     <<<<<< */

/**********************************************************************************************************
**                                           类型定义区
**********************************************************************************************************/


/**********************************************************************************************************
**                                         外部引用变量区
**********************************************************************************************************/	


/**********************************************************************************************************
**                                         外部引用函数区
**********************************************************************************************************/
extern s8_t Can_Network_Rx_Process(u32_t rx_id, u8_t* rx_data);
extern s8_t Can_Network_Upcast(u8_t* tx_dat, u16_t tx_len);
extern s8_t Can_Network_Func(u16_t rx_timeout_period, u16_t rx_analysis_period, u16_t tx_reply_period, u16_t tx_err_period, u16_t period_unit);

#ifdef __cplusplus
}
#endif

#endif
